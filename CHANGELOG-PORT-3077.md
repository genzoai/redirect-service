# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –î–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ü–æ—Ä—Ç–∞: 3002 ‚Üí 3077

**–î–∞—Ç–∞:** 2026-01-13
**–í–µ—Ä—Å–∏—è:** 2.0.0

## üéØ –ü—Ä–∏—á–∏–Ω–∞ –ò–∑–º–µ–Ω–µ–Ω–∏—è

–ü–æ—Ä—Ç **3077** –≤—ã–±—Ä–∞–Ω –≤–º–µ—Å—Ç–æ 3002 –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

1. **–ú–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** - –ø–æ—Ä—Ç 3077 —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** - –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–º–µ—Ç–∏—Ç –∏ –æ—Å—Ç–∞–≤–∏—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ—Ä—Ç, —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –º–∏–Ω–∏–º–∞–ª–µ–Ω
3. **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** - —É–ø—Ä–æ—â–∞–µ—Ç debugging –∏ troubleshooting

---

## ‚úÖ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –§–∞–π–ª—ã

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**`.env.example`**
```diff
- PORT=3002
+ PORT=3077
```

**`config/.env.example`**
```diff
- PORT=3002
+ PORT=3077
```

---

### 2. –°–∫—Ä–∏–ø—Ç—ã –£—Å—Ç–∞–Ω–æ–≤–∫–∏

**`scripts/setup-nginx.sh`**
```diff
- PORT="3002"
+ PORT="3077"
- print_warning "PORT not found in .env, using default 3002"
+ print_warning "PORT not found in .env, using default 3077"
```

**`scripts/setup-wizard.js`**
```diff
{
  type: 'input',
  name: 'port',
  message: 'Enter the port for the service:',
- default: '3002',
+ default: '3077',
}
```

**`scripts/check-requirements.js`**
```diff
- const DEFAULT_PORT = 3002;
+ const DEFAULT_PORT = 3077;
```

**`scripts/setup-systemd.sh`**
```diff
- curl -I http://localhost:${PORT:-3002}/health
+ curl -I http://localhost:${PORT:-3077}/health
```

**`scripts/install.sh`**
```diff
- http://localhost:${PORT:-3002}/health
+ http://localhost:${PORT:-3077}/health
- http://localhost:${PORT:-3002}/api/stats
+ http://localhost:${PORT:-3077}/api/stats
```

---

### 3. –û—Å–Ω–æ–≤–Ω–æ–π –ö–æ–¥ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**`src/server.js`**
```diff
- const PORT = process.env.PORT || 3002;
+ const PORT = process.env.PORT || 3077;
```

---

### 4. Docker –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**`docker/docker-compose.yml`**
```diff
  ports:
-   - "${PORT:-3002}:3002"
+   - "${PORT:-3077}:3077"
  environment:
-   - PORT=3002
+   - PORT=3077

  healthcheck:
-   test: ["CMD", "node", "-e", "require('http').get('http://localhost:3002/health', ...)"]
+   test: ["CMD", "node", "-e", "require('http').get('http://localhost:3077/health', ...)"]
```

**`docker/docker-compose.dev.yml`**
```diff
  ports:
-   - "${PORT:-3002}:3002"
+   - "${PORT:-3077}:3077"
```

---

### 5. –ü—Ä–∏–º–µ—Ä—ã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**`config/nginx.example.conf`**
```diff
  location / {
-   proxy_pass http://localhost:3002;
+   proxy_pass http://localhost:3077;
  }
```

---

## üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ù–µ –ò–∑–º–µ–Ω–µ–Ω–∞)

–°–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã **–ù–ï –∏–∑–º–µ–Ω–µ–Ω—ã**, —Ç–∞–∫ –∫–∞–∫ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–∏–º–µ—Ä—ã –∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –ø–æ—Ä—Ç:

- `docs/INSTALLATION.md` - —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏
- `docs/CONFIGURATION.md` - –æ–±—ä—è—Å–Ω—è–µ—Ç –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª—é–±–æ–π –ø–æ—Ä—Ç
- `docs/TROUBLESHOOTING.md` - –ø—Ä–∏–º–µ—Ä—ã troubleshooting
- `docs/DEPLOYMENT.md` - deployment –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- `docs/UPGRADE.md` - upgrade –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- `docs/ORIGINAL-README.md` - –∞—Ä—Ö–∏–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ—Ä—Ç 3002 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ **–ø—Ä–∏–º–µ—Ä**, –Ω–µ –∫–∞–∫ —Ö–∞—Ä–¥–∫–æ–¥. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –ø–æ—Ä—Ç —á–µ—Ä–µ–∑ `.env` —Ñ–∞–π–ª.

---

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –î–ª—è –°—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –£—Å—Ç–∞–Ω–æ–≤–æ–∫

–ï—Å–ª–∏ —É –≤–∞—Å **—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** —Å–µ—Ä–≤–∏—Å —Å –ø–æ—Ä—Ç–æ–º 3002:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Å—Ç–∞–≤–∏—Ç—å –ü–æ—Ä—Ç 3002 (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ù–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ! –í–∞—à `.env` —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç:
```bash
PORT=3002
```

–ò —ç—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ –≤–ª–∏—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ **–Ω–æ–≤—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**.

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 3077

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ—Ä—Ç:

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl stop redirect-service

# 2. –ò–∑–º–µ–Ω–∏—Ç—å .env
sed -i 's/PORT=3002/PORT=3077/' .env

# 3. –û–±–Ω–æ–≤–∏—Ç—å nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo sed -i 's/localhost:3002/localhost:3077/' /etc/nginx/sites-available/YOUR_DOMAIN

# 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å nginx
sudo nginx -t

# 5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å nginx
sudo systemctl reload nginx

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl start redirect-service

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
curl -I http://localhost:3077/health
```

---

## üÜï –î–ª—è –ù–æ–≤—ã—Ö –£—Å—Ç–∞–Ω–æ–≤–æ–∫

–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å **–≤–µ—Ä—Å–∏–∏ 2.0.0+**:

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
node scripts/setup-wizard.js
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
Enter the port for the service: (3077)
```

–ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ 3077, –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –ø–æ—Ä—Ç.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
sudo bash scripts/install.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 3077 –∏–∑ setup wizard.

### Docker –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å .env.example
cp .env.example .env

# .env –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å PORT=3077 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
docker-compose up -d
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¢–µ–∫—É—â–∏–π –ü–æ—Ä—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ .env
grep PORT .env

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ systemd service
sudo systemctl show redirect-service | grep Environment

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ª—É—à–∞—é—â–∏–π –ø–æ—Ä—Ç
sudo ss -tlnp | grep 3077

# –ò–ª–∏
sudo netstat -tlnp | grep 3077
```

### Health Check

```bash
# –° –Ω–æ–≤—ã–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –ø–æ—Ä—Ç–æ–º
curl -I http://localhost:3077/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
# HTTP/1.1 200 OK
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ò–∑–º–µ–Ω–µ–Ω–∏–π

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 11
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 2
- **–°–∫—Ä–∏–ø—Ç–æ–≤:** 5
- **Docker —Ñ–∞–π–ª–æ–≤:** 2
- **–ò—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞:** 1
- **–ü—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** 1

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ü–æ—Ä—Ç–∞

–ü–æ—Ä—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ (–æ—Ç –≤—ã—Å—à–µ–≥–æ –∫ –Ω–∏–∑—à–µ–º—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É):

1. **Environment Variable** (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ —Å `PORT=8080 npm start`)
2. **`.env` —Ñ–∞–π–ª** (PORT=3077)
3. **Hardcoded Fallback** –≤ `src/server.js` (3077)

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –õ–æ–≥–∏–∫–∞ –≤ setup-nginx.sh

–¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–∏—Ç–∞–µ—Ç** PORT –∏–∑ `.env`:

```bash
load_env() {
    if [ -f "$ROOT_DIR/.env" ]; then
        # Source .env file to get PORT variable
        source <(grep -v '^#' "$ROOT_DIR/.env" | sed 's/^/export /')

        # Validate port from .env
        if [ -n "$PORT" ]; then
            if [[ "$PORT" =~ ^[0-9]+$ ]] && [ "$PORT" -ge 1 ] && [ "$PORT" -le 65535 ]; then
                print_success "Using port from .env: $PORT"
            else
                print_warning "Invalid PORT in .env ($PORT), using default 3077"
                PORT="3077"
            fi
        else
            print_warning "PORT not found in .env, using default 3077"
            PORT="3077"
        fi
    else
        print_warning ".env file not found, using default port 3077"
    fi
}
```

**–£–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–∏—Ç–∞–µ—Ç PORT –∏–∑ `.env`
- ‚úÖ –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞ (1-65535)
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ Fallback –Ω–∞ 3077 –µ—Å–ª–∏ –ø–æ—Ä—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

### –î–æ –≤–µ—Ä—Å–∏–∏ 2.0.0

**–ü—Ä–æ–±–ª–µ–º–∞:** setup-nginx.sh **–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª** PORT –∏–∑ `.env`

```bash
# –°—Ç–∞—Ä–∞—è (—Å–ª–æ–º–∞–Ω–Ω–∞—è) –ª–æ–≥–∏–∫–∞:
if [ -n "$PORT" ]; then
    PORT="$PORT"  # ‚ùå –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —Å–∞–º —Å–µ–±–µ!
fi
```

**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ –≤–µ—Ä—Å–∏–∏ 2.0.0+

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ü–æ—Ä—Ç–æ–º

–ï—Å–ª–∏ —É –≤–∞—Å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–æ–º:

1. **–ü–æ—Ä—Ç –∑–∞–Ω—è—Ç:**
   ```bash
   # –£–∑–Ω–∞—Ç—å —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç
   sudo lsof -i :3077
   # –ò–ª–∏
   sudo ss -tlnp | grep 3077
   ```

2. **–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç:**
   ```bash
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env
   nano .env
   # –ò–∑–º–µ–Ω–∏—Ç—å PORT=3077 –Ω–∞ –Ω—É–∂–Ω—ã–π
   # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
   sudo systemctl restart redirect-service
   ```

3. **Firewall:**
   ```bash
   # –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ—Ä—Ç –≤ UFW
   sudo ufw allow 3077/tcp

   # –†–∞–∑—Ä–µ—à–∏—Ç—å –≤ iptables
   sudo iptables -A INPUT -p tcp --dport 3077 -j ACCEPT
   ```

---

## üéì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è Production

1. **–û—Å—Ç–∞–≤—å—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π 3077** - –µ—Å–ª–∏ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Nginx** –∫–∞–∫ reverse proxy (–ø–æ—Ä—Ç 80/443)
3. **–ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ 3077** –Ω–∞—Ä—É–∂—É –≤ firewall
4. **–¢–æ–ª—å–∫–æ localhost** –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

### –î–ª—è Development

1. –ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ª—é–±–æ–π –ø–æ—Ä—Ç**
2. –£–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ä–∞–∑–Ω—ã–µ –ø–æ—Ä—Ç—ã** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
3. –ù–∞–ø—Ä–∏–º–µ—Ä: 3077 (redirect), 3078 (–¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç), etc.

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ —Å 3002 –Ω–∞ 3077:
- ‚úÖ –£–ª—É—á—à–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –°–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫

**Genzo AI LLP ¬© 2026**
