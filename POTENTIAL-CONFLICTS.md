# –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ü—Ä–∏ –£—Å—Ç–∞–Ω–æ–≤–∫–µ

**–í–µ—Ä—Å–∏—è:** 2.3.0
**–î–∞—Ç–∞:** 2026-01-13
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-13 (–∑–∞–≤–µ—Ä—à–µ–Ω—ã –≤–µ—Ä—Å–∏–∏ v2.0.0, v2.1.0, v2.2.0, v2.3.0)

## üìä –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–≤—Å–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã** –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Universal Redirect Service –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã, –∞ –∫–∞–∫–∏–µ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è.

### üéâ –°—Ç–∞—Ç—É—Å: **11 –∏–∑ 15 –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!**

- ‚úÖ **v2.0.0:** 3 –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ (Database drop, Systemd service, Nginx config)
- ‚úÖ **v2.1.0:** 3 –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ (Web ports, System user, MySQL user)
- ‚úÖ **v2.2.0:** 1 –∫–æ–Ω—Ñ–ª–∏–∫—Ç (SSL certificate)
- ‚úÖ **v2.3.0:** 4 –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ (GeoIP, WordPress DB, Firewall, Installation directory)
- üìã **v2.4.0:** –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è (npm packages, Let's Encrypt limits)

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ v2.0.0

- ‚úÖ **#2: MySQL Database Drop** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ë–î
- ‚úÖ **#5: Systemd Service** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ **#6: Nginx Configuration** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ backup

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ v2.1.0

- ‚úÖ **#7: Web Ports 80/443** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –ø–æ—Ä—Ç–æ–≤
- ‚úÖ **#10: System User** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–∞–≤
- ‚úÖ **#3: MySQL User** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ v2.2.0

- ‚úÖ **#8: SSL Certificate** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ v2.3.0

- ‚úÖ **#11: GeoIP Database** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ **#12: WordPress DB Connection** - –¥–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- ‚úÖ **#14: Firewall Rules** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ UFW –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ **#9: Installation Directory** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ **Requirements Update** - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–æ LTS —Ä–µ–ª–∏–∑–æ–≤ 2026

**–ù–æ–≤—ã–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Node.js 24.0.0 (LTS –¥–æ 2028)
- npm 11.0.0 (–∏–¥—ë—Ç —Å Node 24)
- MySQL 8.4.0 (LTS –¥–æ 2032)
- Nginx 1.26.0
- Certbot 5.0.0

---

## ‚úÖ –ß–¢–û –£–ñ–ï –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø (–ó–∞—â–∏—â–µ–Ω–æ)

### 1. **–ü–æ—Ä—Ç –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è (3077)**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/check-requirements.js`

```javascript
async checkPortAvailable(port) {
  const server = net.createServer();
  server.once('error', (err) => {
    if (err.code === 'EADDRINUSE') {
      this.logError('Port Availability', `Port ${port} is in use`, 'Available');
    } else if (err.code === 'EACCES') {
      this.logError('Port Permissions', `No permission to bind port ${port}`, 'Root/sudo required');
    }
  });
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚ùå –£—Å—Ç–∞–Ω–æ–≤–∫–∞ **–ø—Ä–µ—Ä–≤—ë—Ç—Å—è** —Å –æ—à–∏–±–∫–æ–π
- üìù –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç: "Port 3077 is in use"
- üí° –†–µ—à–µ–Ω–∏–µ: –∏–∑–º–µ–Ω–∏—Ç—å PORT –≤ setup-wizard

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ**

---

### 2. **–ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö MySQL** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.0.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-database.sh`

```bash
if [ "$DB_EXISTS" -eq "1" ]; then
    print_warning "Database '$DB_NAME' already exists!"

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ë–î
    mysql ... "SELECT TABLE_SCHEMA, COUNT(*), SIZE FROM ..."

    # –Ø—Ä–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
    echo "‚ö†Ô∏è  WARNING: Dropping the database will DELETE ALL DATA!"

    # –¢—Ä–∏ –æ–ø—Ü–∏–∏
    echo "1) Keep existing database (recommended)"
    echo "2) Drop and recreate (DESTROYS ALL DATA!)"
    echo "3) Exit installation"

    read -p "Choose [1-3]: " choice

    if [ "$choice" = "2" ]; then
        # –§–ò–ù–ê–õ–¨–ù–û–ï –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
        echo "To confirm, type the database name: $DB_NAME"
        read CONFIRM_DB_NAME

        if [ "$CONFIRM_DB_NAME" = "$DB_NAME" ]; then
            DROP DATABASE  # –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–º—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç!
        fi
    fi
fi
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç** —Ä–∞–∑–º–µ—Ä –ë–î –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü
- ‚úÖ **–Ø—Ä–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- ‚úÖ **3 –æ–ø—Ü–∏–∏** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è - –æ—Å—Ç–∞–≤–∏—Ç—å –ë–î)
- ‚úÖ **–î–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:** –≤—ã–±–æ—Ä –æ–ø—Ü–∏–∏ + –≤–≤–æ–¥ –∏–º–µ–Ω–∏ –ë–î
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –æ–ø–µ—á–∞—Ç–æ–∫** –ø—Ä–∏ –≤–≤–æ–¥–µ –∏–º–µ–Ω–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.0.0)

**–†–∏—Å–∫:** ~~üî¥ –í—ã—Å–æ–∫–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 3. **MySQL –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.1.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-database.sh`

```bash
if [ "$USER_EXISTS" -gt "0" ]; then
    print_warning "User '$DB_USER' already exists!"

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    mysql ... "SELECT user, host, COUNT(DISTINCT Db) FROM mysql.db WHERE user = '$DB_USER'"

    echo "WARNING: Updating this user will:"
    echo "  - Change the password (may break other applications)"

    echo "Options:"
    echo "  1) Update user password and permissions (may affect other apps)"
    echo "  2) Keep existing user unchanged (use current password)"
    echo "  3) Create different user"
    echo "  4) Exit installation"

    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
fi
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –∫ –∫–∞–∫–∏–º –ë–î —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø
- ‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç** –æ –≤–æ–∑–º–æ–∂–Ω–æ–º –≤–ª–∏—è–Ω–∏–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **4 –æ–ø—Ü–∏–∏:** –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å / –æ—Å—Ç–∞–≤–∏—Ç—å / —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ / –≤—ã–π—Ç–∏
- ‚úÖ **–ó–∞—â–∏—Ç–∞** –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.1.0)

**–†–∏—Å–∫:** ~~üü° –°—Ä–µ–¥–Ω–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 4. **–í–µ—Ä—Å–∏–∏ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/check-requirements.js`

```javascript
const REQUIREMENTS = {
  node: { min: '18.0.0', command: 'node --version' },
  npm: { min: '8.0.0', command: 'npm --version' },
  mysql: { min: '5.7.0', command: 'mysql --version', optional: false },
  nginx: { min: '1.18.0', command: 'nginx -v 2>&1', optional: true },
  certbot: { min: '0.0.0', command: 'certbot --version', optional: true }
};
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚ùå –£—Å—Ç–∞–Ω–æ–≤–∫–∞ **–ø—Ä–µ—Ä–≤—ë—Ç—Å—è** –µ—Å–ª–∏ Node < 18 –∏–ª–∏ MySQL < 5.7
- ‚ö†Ô∏è **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ** –µ—Å–ª–∏ Nginx/Certbot –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ**

---

## ‚ö†Ô∏è –ß–¢–û –ù–ï –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø (–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã)

### 5. **Systemd Service Name** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.0.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-systemd.sh`

**–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `check_existing_service()`:**

```bash
check_existing_service() {
    if [ -f "$SERVICE_FILE" ]; then
        print_warning "Systemd service 'redirect-service' already exists"

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å
        systemctl status "$SERVICE_NAME" --no-pager -l

        echo "Options:"
        echo "  1) Overwrite and reconfigure (recommended for updates)"
        echo "  2) Keep existing service and exit"
        echo "  3) Show current service configuration"

        read -p "Choose [1-3]: " choice

        case $choice in
            1)
                # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–∏—Å
                systemctl stop "$SERVICE_NAME"
                # –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É
                ;;
            2)
                exit 0  # –í—ã—Ö–æ–¥–∏—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
                ;;
            3)
                cat "$SERVICE_FILE"  # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
                # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –≤—ã–±–æ—Ä—É
                ;;
        esac
    fi
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –ü–ï–†–ï–î —Å–æ–∑–¥–∞–Ω–∏–µ–º
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç** —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- ‚úÖ **3 –æ–ø—Ü–∏–∏** (–Ω–µ –ø—Ä–æ—Å—Ç–æ Y/N)
- ‚úÖ **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç** —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é
- ‚úÖ **–ü–æ–∑–≤–æ–ª—è–µ—Ç** —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.0.0)

**–†–∏—Å–∫:** ~~üî¥ –í—ã—Å–æ–∫–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 6. **Nginx –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –î–æ–º–µ–Ω–∞** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.0.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-nginx.sh`

```bash
check_existing_config() {
    if [ -f "$NGINX_CONF" ]; then
        print_warning "Configuration file already exists: $NGINX_CONF"

        echo "Options:"
        echo "  1) Overwrite existing configuration (backup will be created)"
        echo "  2) Keep existing configuration and exit"
        echo "  3) Show existing configuration"

        read -p "Choose option [1-3]: " choice
    fi
}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.0.0)

---

### 7. **Nginx –ü–æ—Ä—Ç—ã 80/443** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.1.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-nginx.sh`

```bash
check_web_ports() {
    print_step "Checking Web Ports (80/443)"

    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç 80
    if sudo lsof -i :80 | grep -q .; then
        print_warning "Port 80 (HTTP) is already in use:"
        sudo lsof -i :80 | head -5

        echo "Options:"
        echo "  1) Continue anyway (may cause Nginx to fail)"
        echo "  2) Stop conflicting services and retry"
        echo "  3) Exit installation"

        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã
    fi

    # –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –ø–æ—Ä—Ç–∞ 443
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –∫–∞–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–Ω–∏–º–∞—é—Ç –ø–æ—Ä—Ç—ã 80/443
- ‚úÖ **3 –æ–ø—Ü–∏–∏:** –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å / –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã / –≤—ã–π—Ç–∏
- ‚úÖ **–ü–æ–º–æ—â—å** —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ Apache/Nginx
- ‚úÖ **Retry** –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.1.0)

**–†–∏—Å–∫:** ~~üü° –°—Ä–µ–¥–Ω–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 8. **SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –î–æ–º–µ–Ω–∞** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.2.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-ssl.sh`

```bash
check_existing_cert() {
    if [ -d "/etc/letsencrypt/live/$DOMAIN" ]; then
        print_warning "SSL certificate for '$DOMAIN' already exists!"

        # –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
        certbot certificates -d "$DOMAIN"
        # –ü–æ–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É –∏—Å—Ç–µ—á–µ–Ω–∏—è
        openssl x509 -in "fullchain.pem" -noout -enddate

        echo "Options:"
        echo "  1) Keep existing certificate (recommended if valid)"
        echo "  2) Renew certificate"
        echo "  3) Delete and create new certificate"
        echo "  4) Exit setup"

        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
    fi
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ –∏ –¥–∞—Ç—É –∏—Å—Ç–µ—á–µ–Ω–∏—è
- ‚úÖ **4 –æ–ø—Ü–∏–∏:** –æ—Å—Ç–∞–≤–∏—Ç—å / –æ–±–Ω–æ–≤–∏—Ç—å / —É–¥–∞–ª–∏—Ç—å / –≤—ã–π—Ç–∏
- ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –¥–æ–º–µ–Ω–∞** –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- ‚úÖ **–ó–∞—â–∏—Ç–∞** –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.2.0)

**–†–∏—Å–∫:** ~~üü° –°—Ä–µ–¥–Ω–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 9. **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –£—Å—Ç–∞–Ω–æ–≤–∫–∏** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.3.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/install.sh`

```bash
check_installation_directory() {
    print_step "Checking Installation Directory"

    # –°–ø–∏—Å–æ–∫ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
    local conflicts=()
    [ -f ".env" ] && conflicts+=(".env")
    [ -f "config/sites.json" ] && conflicts+=("config/sites.json")
    [ -d "node_modules" ] && conflicts+=("node_modules/")
    [ -f ".install-state" ] && conflicts+=(".install-state")

    if [ ${#conflicts[@]} -gt 0 ]; then
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
        # –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω .install-state - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 3 –æ–ø—Ü–∏–∏:
        #   1) –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å (–æ–±–Ω–æ–≤–∏—Ç—å)
        #   2) –û—á–∏—Å—Ç–∏—Ç—å (—É–¥–∞–ª–∏—Ç—å –≤—Å–µ)
        #   3) –í—ã–π—Ç–∏ –∏ —Å–¥–µ–ª–∞—Ç—å backup
        # –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã - —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    fi
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç** —Å–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ **3 –æ–ø—Ü–∏–∏** –¥–ª—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- ‚úÖ **–ó–∞—â–∏—Ç–∞** –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç –≤–≤–æ–¥–∞ "yes")
- ‚úÖ **–ü–æ–¥—Å–∫–∞–∑–∫–∞** –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å backup
- ‚úÖ **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å** –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.3.0)

**–†–∏—Å–∫:** ~~üü¢ –ù–∏–∑–∫–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 10. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –°–∏—Å—Ç–µ–º—ã** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.1.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-systemd.sh`

```bash
get_service_user() {
    # –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    if [ -n "$SUDO_USER" ]; then
        SERVICE_USER="$SUDO_USER"
    else
        read -r INPUT_USER
        SERVICE_USER="${INPUT_USER:-www-data}"
    fi

    # –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
    if ! id "$SERVICE_USER" &>/dev/null; then
        print_error "User '$SERVICE_USER' does not exist"

        echo "Options:"
        echo "  1) Create user (system user, no login)"
        echo "  2) Enter different username"
        echo "  3) Exit installation"
    fi

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ .env
    if ! sudo -u "$SERVICE_USER" test -r ".env"; then
        chmod 640 ".env"
        chown "$SERVICE_USER:$SERVICE_USER" ".env"
    fi

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ node_modules
    if ! sudo -u "$SERVICE_USER" test -r "node_modules"; then
        chmod -R 755 "node_modules"
    fi
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ **3 –æ–ø—Ü–∏–∏:** —Å–æ–∑–¥–∞—Ç—å / –≤–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–≥–æ / –≤—ã–π—Ç–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** system user
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤** –Ω–∞ .env –∏ node_modules
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.1.0)

**–†–∏—Å–∫:** ~~üü° –°—Ä–µ–¥–Ω–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–ª—É—á—à–∏—Ç—å get_service_user() –≤ setup-systemd.sh
get_service_user() {
    print_step "Step 1: Service User Configuration"

    if [ -n "$SUDO_USER" ]; then
        SERVICE_USER="$SUDO_USER"
    else
        read -r INPUT_USER
        SERVICE_USER="${INPUT_USER:-www-data}"

        # –î–û–ë–ê–í–ò–¢–¨: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
        if ! id "$SERVICE_USER" &>/dev/null; then
            print_error "User '$SERVICE_USER' does not exist"
            read -p "Create user? [Y/n]: " -r
            REPLY=${REPLY:-Y}
            if [[ $REPLY =~ ^[Yy]$ ]]; then
                sudo useradd -r -s /bin/false "$SERVICE_USER"
                print_success "Created user: $SERVICE_USER"
            else
                exit 1
            fi
        fi
    fi

    # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞
    chown -R "$SERVICE_USER:$SERVICE_USER" "$INSTALL_DIR"

    # –î–û–ë–ê–í–ò–¢–¨: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —á—Ç–µ–Ω–∏–µ .env
    if [ -f "$INSTALL_DIR/.env" ]; then
        if ! sudo -u "$SERVICE_USER" test -r "$INSTALL_DIR/.env"; then
            print_error "User '$SERVICE_USER' cannot read .env file"
            chmod 640 "$INSTALL_DIR/.env"
            print_success "Fixed .env permissions"
        fi
    fi
}
```

---

### 11. **GeoIP –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.3.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/check-requirements.js`

```javascript
checkGeoIPDatabase() {
    const GEOIP_PATH = '/usr/share/GeoIP/GeoLite2-Country.mmdb';

    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
    if (!fs.existsSync(GEOIP_PATH)) {
        this.logWarning('GeoIP Database', 'Not found (tracking will be disabled)', 'Optional');
        console.log('‚Ñπ  Install GeoIP database with: sudo bash scripts/update-geoip.sh');
        return;
    }

    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ
    try {
        fs.accessSync(GEOIP_PATH, fs.constants.R_OK);
        this.logSuccess('GeoIP Database', GEOIP_PATH, 'Optional');
    } catch (error) {
        this.logWarning('GeoIP Database', 'Found but not readable', 'Optional');
        console.log('‚Ñπ  Fix permissions with: sudo chmod 644 ' + GEOIP_PATH);
    }
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã GeoIP
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ
- ‚úÖ **–ü–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç** –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
- ‚úÖ **–ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç** —É—Å—Ç–∞–Ω–æ–≤–∫—É (optional)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.3.0)

**–†–∏—Å–∫:** ~~üü° –°—Ä–µ–¥–Ω–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 12. **WordPress Database Access** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.3.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-wizard.js`

```javascript
async testWordPressDBConnection(wpDbConfig) {
    console.log('Testing WordPress database connection...');

    try {
        // –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
        const testCmd = `mysql -h"${wpDbConfig.wpDbHost}" -P"${wpDbConfig.wpDbPort}"
                         -u"${wpDbConfig.wpDbUser}" -p"${wpDbConfig.wpDbPassword}"
                         -e "SELECT 1;" 2>&1`;
        execSync(testCmd, { encoding: 'utf-8', stdio: 'pipe' });

        // –¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–∂–¥–æ–π WordPress –ë–î
        for (const dbName of wpDatabases) {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ SELECT –Ω–∞ wp_posts
            execSync(dbTestCmd);
        }

        console.log('‚úì WordPress database connection successful');
    } catch (error) {
        console.log('‚úó Cannot connect to WordPress database');

        // –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç: Continue anyway? [y/N]
        // –ï—Å–ª–∏ –Ω–µ—Ç - –≤—ã—Ö–æ–¥ —Å –æ—à–∏–±–∫–æ–π
    }
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ—Ç** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WordPress –ë–î
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** –¥–æ—Å—Ç—É–ø –∫ –∫–∞–∂–¥–æ–π —É–∫–∞–∑–∞–Ω–Ω–æ–π –ë–î
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ—à–∏–±–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ **–°–ø—Ä–∞—à–∏–≤–∞–µ—Ç** –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
- ‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç** —á—Ç–æ og_method –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.3.0)

**–†–∏—Å–∫:** ~~üü° –°—Ä–µ–¥–Ω–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 13. **npm Package Conflicts**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå **–ù–ï –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è** –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–µ—Ä—Å–∏–π npm –ø–∞–∫–µ—Ç–æ–≤
- ‚ùå –ï—Å–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏ ‚Üí **–º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏**
- ‚ùå `package-lock.json` –º–æ–∂–µ—Ç **–∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å** –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

**–†–∏—Å–∫:** üü¢ **–ù–∏–∑–∫–∏–π** (npm –æ–±—ã—á–Ω–æ —Ö–æ—Ä–æ—à–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã)

---

### 14. **Firewall Rules** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.3.0**

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `scripts/setup-nginx.sh`

```bash
check_firewall() {
    print_step "Checking Firewall Rules"

    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UFW
    if ! command -v ufw &> /dev/null; then
        print_info "UFW not installed, skipping firewall check"
        return 0
    fi

    UFW_STATUS=$(sudo ufw status 2>/dev/null | grep "Status:" | awk '{print $2}')

    if [ "$UFW_STATUS" != "active" ]; then
        print_info "UFW firewall is not active"
        return 0
    fi

    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã 80 –∏ 443
    local ports_blocked=false
    if ! sudo ufw status | grep -q "80"; then
        print_warning "Port 80 (HTTP) is not allowed in UFW"
        ports_blocked=true
    fi
    if ! sudo ufw status | grep -q "443"; then
        print_warning "Port 443 (HTTPS) is not allowed in UFW"
        ports_blocked=true
    fi

    if [ "$ports_blocked" = true ]; then
        # 3 –æ–ø—Ü–∏–∏: Allow / Continue / Exit
        # –ü—Ä–∏ –≤—ã–±–æ—Ä–µ Allow - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–æ—Ä—Ç—ã
    fi
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** —Å—Ç–∞—Ç—É—Å UFW
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ª–∏ –ø–æ—Ä—Ç—ã 80/443
- ‚úÖ **3 –æ–ø—Ü–∏–∏:** —Ä–∞–∑—Ä–µ—à–∏—Ç—å / –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å / –≤—ã–π—Ç–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ** —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
- ‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç** –µ—Å–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–æ** (v2.3.0)

**–†–∏—Å–∫:** ~~üü° –°—Ä–µ–¥–Ω–∏–π~~ ‚Üí üü¢ **–ù–∏–∑–∫–∏–π**

---

### 15. **Let's Encrypt Rate Limits**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå **–ù–ï –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è** –ª–∏–º–∏—Ç—ã Let's Encrypt
- ‚ùå –õ–∏–º–∏—Ç: **5 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–∞ –¥–æ–º–µ–Ω –≤ –Ω–µ–¥–µ–ª—é**
- ‚ùå –ï—Å–ª–∏ –ª–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω ‚Üí certbot **—É–ø–∞–¥—ë—Ç —Å –æ—à–∏–±–∫–æ–π**

**–†–∏—Å–∫:** üü¢ **–ù–∏–∑–∫–∏–π** (—Ä–µ–¥–∫–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
```
Let's Encrypt Rate Limits:
- 5 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω –≤ –Ω–µ–¥–µ–ª—é
- 50 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç –≤ –Ω–µ–¥–µ–ª—é
- 300 –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç –∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞
- 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–π –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç –≤ —á–∞—Å
```

---

## üìä –°–≤–æ–¥–Ω–∞—è –¢–∞–±–ª–∏—Ü–∞ –†–∏—Å–∫–æ–≤

| #  | –ö–æ–Ω—Ñ–ª–∏–∫—Ç        	      | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è?    | –†–∏—Å–∫       | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|----|------------------------|-----------------|------------|-----------------------|
| 1  | –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (3077) |  ‚úÖ –î–∞          | üü¢ –ù–∏–∑–∫–∏–π  | - 		     |
| 2  | MySQL Database 	      |  ‚úÖ –î–∞ (v2.0.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.0.0**   |
| 3  | MySQL User 	      |  ‚úÖ –î–∞ (v2.1.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.1.0**   |
| 4  | –í–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π    |  ‚úÖ –î–∞          | üü¢ –ù–∏–∑–∫–∏–π  | - 		     |
| 5  | Systemd service name   |  ‚úÖ –î–∞ (v2.0.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.0.0**   |
| 6  | Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è     |  ‚úÖ –î–∞ (v2.0.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.0.0**   |
| 7  | –ü–æ—Ä—Ç—ã 80/443 	      |  ‚úÖ –î–∞ (v2.1.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.1.0**   |
| 8  | SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç 	      |  ‚úÖ –î–∞ (v2.2.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.2.0**   |
| 9  | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏   |  ‚úÖ –î–∞ (v2.3.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.3.0**   |
| 10 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∏—Å—Ç–µ–º—ã   |  ‚úÖ –î–∞ (v2.1.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.1.0**   |
| 11 | GeoIP –±–∞–∑–∞ 	      |  ‚úÖ –î–∞ (v2.3.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.3.0**   |
| 12 | WordPress DB 	      |  ‚úÖ –î–∞ (v2.3.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.3.0**   |
| 13 | npm –ø–∞–∫–µ—Ç—ã 	      |  ‚ùå –ù–µ—Ç         | üü¢ –ù–∏–∑–∫–∏–π  | ‚¨áÔ∏è Low 		     |
| 14 | Firewall 	      |  ‚úÖ –î–∞ (v2.3.0) | üü¢ –ù–∏–∑–∫–∏–π  | ‚úÖ **FIXED v2.3.0**   |
| 15 | Let's Encrypt –ª–∏–º–∏—Ç—ã   |  ‚ùå –ù–µ—Ç         | üü¢ –ù–∏–∑–∫–∏–π  | ‚¨áÔ∏è Low 		     | 

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ü–æ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –≤ v2.0.0

~~1. **Systemd Service Name Conflict** (#5)~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
   - 3 –æ–ø—Ü–∏–∏: –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å / –æ—Å—Ç–∞–≤–∏—Ç—å / –ø–æ–∫–∞–∑–∞—Ç—å
   - **–§–∞–π–ª:** `scripts/setup-systemd.sh`

~~2. **MySQL Database Drop Risk** (#2)~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ë–î –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü
   - –¢—Ä–µ–±—É–µ—Ç –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –ë–î –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - 3 –æ–ø—Ü–∏–∏: –æ—Å—Ç–∞–≤–∏—Ç—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) / —É–¥–∞–ª–∏—Ç—å / –≤—ã–π—Ç–∏
   - **–§–∞–π–ª:** `scripts/setup-database.sh`

~~3. **Nginx Configuration Overwrite** (#6)~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup
   - Rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
   - **–§–∞–π–ª:** `scripts/setup-nginx.sh`

### üî• CRITICAL (–¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### üìå High Priority

3. **Web Ports 80/443** (#7)
   - **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π nginx
   - **–§–∞–π–ª:** `scripts/setup-nginx.sh`

4. **System User Validation** (#10)
   - **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - **–§–∞–π–ª:** `scripts/setup-systemd.sh`

5. **MySQL User Conflict** (#3)
   - **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - **–§–∞–π–ª:** `scripts/setup-database.sh`

### üìã Medium Priority

6. **SSL Certificate** (#8)
7. **Installation Directory** (#9)
8. **GeoIP Database** (#11)
9. **WordPress DB** (#12)
10. **Firewall** (#14)

### ‚¨áÔ∏è Low Priority

11. **npm Packages** (#13)
12. **Let's Encrypt Limits** (#15)

---

## üõ†Ô∏è –ü–ª–∞–Ω –£–ª—É—á—à–µ–Ω–∏–π

### –í–µ—Ä—Å–∏—è 2.0.0 ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**

- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #5: Systemd service name conflict check
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #2: –£–ª—É—á—à–∏—Ç—å MySQL database drop warning
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #6: Nginx configuration check –∏ backup
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥ —á—Ç–µ–Ω–∏—è PORT –∏–∑ .env
- [x] –ò–∑–º–µ–Ω–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ—Ä—Ç –Ω–∞ 3077

### –í–µ—Ä—Å–∏—è 2.1.0 ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**

- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #7: Web ports 80/443 availability check
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #10: System user validation
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #3: MySQL user conflict warning

### –í–µ—Ä—Å–∏—è 2.2.0 ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**

- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #8: SSL certificate check

### –í–µ—Ä—Å–∏—è 2.3.0 ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**

- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #11: GeoIP database validation
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #12: WordPress DB connection test
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #14: Firewall rules check
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å #9: Installation directory check
- [x] –û–±–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–æ LTS —Ä–µ–ª–∏–∑–æ–≤ 2026

### –í–µ—Ä—Å–∏—è 2.4.0 (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ troubleshooting –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- [ ] Automated conflict resolution suggestions

---

## üìù –ö–∞–∫ –ò–∑–±–µ–∂–∞—Ç—å –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (Best Practices)

### –î–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤
   sudo lsof -i :3077
   sudo lsof -i :80
   sudo lsof -i :443

   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
   systemctl status redirect-service

   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ë–î
   mysql -e "SHOW DATABASES LIKE 'redirect_db';"
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞:**
   - Database: `myapp_redirect_db` –≤–º–µ—Å—Ç–æ `redirect_db`
   - User: `myapp_redirect_user` –≤–º–µ—Å—Ç–æ `redirect_user`
   - Service: `myapp-redirect` –≤–º–µ—Å—Ç–æ `redirect-service`

3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —á–∏—Å—Ç—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**
   ```bash
   # –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
   mkdir -p /opt/redirect-service
   cd /opt/redirect-service
   git clone ...
   ```

4. **Backup –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π:**
   ```bash
   # Backup nginx
   sudo cp -r /etc/nginx /etc/nginx.backup

   # Backup MySQL
   mysqldump --all-databases > all-databases-backup.sql
   ```

### –î–ª—è –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞** –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
2. **–°–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** –¥–ª—è –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. **–°–æ–∑–¥–∞–≤–∞—Ç—å backup** –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
4. **–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
5. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å rollback** –º–µ—Ö–∞–Ω–∏–∑–º

---

## üÜò –ß—Ç–æ –î–µ–ª–∞—Ç—å –ü—Ä–∏ –ö–æ–Ω—Ñ–ª–∏–∫—Ç–µ

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
```bash
# –£–∑–Ω–∞—Ç—å —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç
sudo lsof -i :3077

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
sudo kill <PID>

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ setup-wizard
```

### Systemd service exists
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–∏—Å
sudo systemctl stop redirect-service
sudo systemctl disable redirect-service

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π service file
sudo rm /etc/systemd/system/redirect-service.service
sudo systemctl daemon-reload

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–Ω–æ–≤–æ
```

### Database exists
```bash
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
mysqldump -u root -p redirect_db > redirect_db_backup.sql

# –£–¥–∞–ª–∏—Ç—å –ë–î
mysql -u root -p -e "DROP DATABASE redirect_db;"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–Ω–æ–≤–æ
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–ª–∏ –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
- –û—Ç–∫—Ä–æ–π—Ç–µ issue –≤ GitHub
- –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –≤ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç

**Genzo AI LLP ¬© 2026**
